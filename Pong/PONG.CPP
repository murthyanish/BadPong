#include<iostream.h>
#include<conio.h>
void main()
{
clrscr();
int map[10][10],i,j,p1,p2,bi,bj,di,dj;
long g=0,h=0;
char ch;
for(i=0;i<10;i++)
for(j=0;j<10;j++)
map[i][j]=0;
map[4][1]=1;
map[3][1]=1;
map[5][1]=1;
p1=4;
map[4][8]=2;
map[5][8]=2;
map[6][8]=2;
p2=5;
map[4][2]=3;
bi=4;
bj=2;
di=1;
dj=1;
int t=0;
while(ch!='o')
{
t++;
t=t%3;
clrscr();
if(kbhit())
{
ch=getch();
if(ch=='w')
if(p1<8)
{
p1++;
map[p1-2][1]=0;
map[p1+1][1]=1;
}
if(ch=='s')
if(p1>1)
{
p1--;
map[p1+2][1]=0;
map[p1-1][1]=1;
}
}
if(t==0)
{
bi+=di;
bj+=dj;
map[bi-di][bj-dj]=0;
map[bi][bj]=3;
if(bi==9)
di=-1;
if(bi==0)
di=1;
if(bj==7&&map[bi+di][bj+1]==2)
dj=-1;
if(bj==2&&map[bi+di][bj-1]==1)
dj=1;
if(bj>8||bj<1)
ch='o';
if(bi>p2)
{
p2++;
map[p2-2][8]=0;
map[p2+1][8]=2;
}
if(bi<p2)
{
p2--;
map[p2+2][8]=0;
map[p2-1][8]=2;
}
}
for(i=0;i<10;i++)
{
cout<<"\n";
for(j=0;j<10;j++)
{
if(map[i][j]==0)
cout<<" ";
if(map[i][j]==1||map[i][j]==2)
cout<<"#";
if(map[i][j]==3)
cout<<"@";
cout<<"  ";
}
}
while(g<300000)
{
h*=h;h=h*g%5+56-2*456;g++;
}
cout<<"end";
}
}